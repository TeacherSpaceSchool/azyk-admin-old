(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{Ha6T:function(t,e,a){"use strict";var n=a("ln6h"),r=a.n(n),i=a("O40h"),c=a("q1tI"),s=a.n(c),o=a("30+C"),u=a("lFIR"),l=a("oa/T"),p=a("R/WZ"),d=Object(p.a)({cardM:{width:"calc(100vw - 40px)",marginBottom:20},cardD:{width:600,margin:10},mediaM:{objectFit:"cover",height:"calc(100vw / 3)",width:"calc(100vw - 20px)"},mediaD:{objectFit:"cover",height:200,width:600,cursor:"pointer"},inputM:{width:"calc(100vw - 32px)"},inputD:{width:568}}),f=a("/MKj"),m=a("Z3vd"),b=a("o4QW"),h=a("7Ma4"),w=a("r9w1"),g=a("ANjH"),v=a("pngM"),j=a("UgXd"),O=a.n(j),x=a("//vS"),k=a("UUyv"),y=s.a.createElement,M=O()(function(){return a.e(2).then(a.bind(null,"y4xb"))},{loadableGenerated:{webpack:function(){return["y4xb"]},modules:["../dialog/Confirmation"]}}),_=s.a.memo(function(t){var e=d(),a=t.element,n=t.setList,p=t.user.profile,f=t.app.isMobileApp,g=Object(c.useState)(a?a.image:"/static/add.png"),v=g[0],j=g[1],O=Object(c.useState)(void 0),x=O[0],_=O[1],D=Object(c.useState)(a?a.title:""),L=D[0],N=D[1],A=Object(c.useState)(a?a.url:""),C=A[0],S=A[1],I=t.mini_dialogActions,F=I.setMiniDialog,P=I.showMiniDialog,R=t.snackbarActions.showSnackBar;return y(s.a.Fragment,null," ","admin"===p.role?y(o.a,{className:f?e.cardM:e.cardD},y(u.a,null,y("label",{htmlFor:a?a._id:"add"},y(k.LazyLoadImage,{effect:"blur",className:f?e.mediaM:e.mediaD,src:v,alt:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})),y(l.a,null,y(w.a,{label:"\u0418\u043c\u044f",value:L,className:f?e.inputM:e.inputD,onChange:function(t){N(t.target.value)},inputProps:{"aria-label":"description"}}),y("br",null),y("br",null),y(w.a,{label:"URL",value:C,className:f?e.inputM:e.inputD,onChange:function(t){S(t.target.value)},inputProps:{"aria-label":"description"}}))),y(b.a,null,void 0!==a?y(s.a.Fragment,null,y(m.a,{onClick:Object(i.a)(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e={_id:a._id},L.length>0&&L!==a.title&&(e.title=L),C.length>0&&C!==a.url&&(e.url=C),void 0!==x&&(e.image=x),F("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b?",y(M,{action:function(){var t=Object(i.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n,t.next=3,Object(h.e)(e);case 3:t.t1=t.sent.adss,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()})),P(!0);case 7:case"end":return t.stop()}},t)})),size:"small",color:"primary"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),y(m.a,{onClick:Object(i.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:F("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b?",y(M,{action:function(){var t=Object(i.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n,t.next=3,Object(h.b)([a._id]);case 3:t.t1=t.sent.adss,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()})),P(!0);case 3:case"end":return t.stop()}},t)})),size:"small",color:"primary"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")):y(m.a,{onClick:Object(i.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0!==x&&C.length>0&&L.length>0?(_(void 0),j("/static/add.png"),N(""),S(""),F("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b?",y(M,{action:function(){var t=Object(i.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n,t.next=3,Object(h.a)({image:x,url:C,title:L});case 3:t.t1=t.sent.adss,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()})),P(!0)):R("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f");case 1:case"end":return t.stop()}},t)})),size:"small",color:"primary"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),y("input",{accept:"image/*",style:{display:"none"},id:a?a._id:"add",type:"file",onChange:function(t){_(t.target.files[0]),j(URL.createObjectURL(t.target.files[0]))}})):void 0!==a?y("div",{className:f?e.cardM:e.cardD},y("a",{href:a.url},y(k.LazyLoadImage,{effect:"blur",className:f?e.mediaM:e.mediaD,alt:a.title,src:a.image}))):null)});e.a=Object(f.b)(function(t){return{user:t.user,app:t.app}},function(t){return{mini_dialogActions:Object(g.b)(v,t),snackbarActions:Object(g.b)(x,t)}})(_)},h49W:function(t,e,a){"use strict";a.r(e);var n=a("ln6h"),r=a.n(n),i=a("O40h"),c=a("m/Pd"),s=a.n(c),o=a("q1tI"),u=a.n(o),l=a("aSjJ"),p=a("Ha6T"),d=a("R/WZ"),f=Object(d.a)({page:{paddingTop:20,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"}}),m=a("7Ma4"),b=a("/MKj"),h=u.a.createElement,w=u.a.memo(function(t){var e=f(),a=t.data,n=Object(o.useState)(a.adss),c=n[0],u=n[1],d=t.app,b=d.search,w=d.filter,g=d.sort,v=t.user.profile;return Object(o.useEffect)(function(){Object(i.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=u,t.next=3,Object(m.d)({search:b,sort:g,filter:w});case 3:t.t1=t.sent.adss,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}},t)}))()},[w,g,b]),h(l.a,{filters:a.filterAds,sorts:a.sortAds},h(s.a,null,h("title",null,"\u0410\u043a\u0446\u0438\u0438")),h("div",{className:e.page},"admin"===v.role?h(p.a,{setList:u}):null,c?c.map(function(t){return h(p.a,{setList:u,key:t._id,element:t})}):null))});w.getInitialProps=Object(i.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.d)({search:"",sort:"-updatedAt",filter:""});case 2:return t.t0=t.sent,t.abrupt("return",{data:t.t0});case 4:case"end":return t.stop()}},t)}));e.default=Object(b.b)(function(t){return{app:t.app,user:t.user}})(w)},l8O1:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/notification",function(){var t=a("h49W");return{page:t.default||t}}])}},[["l8O1",1,0]]]);
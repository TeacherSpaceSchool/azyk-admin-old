(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"/LA3":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/employments",function(){var e=n("sUnw");return{page:e.default||e}}])},"175S":function(e,t,n){"use strict";n.d(t,"e",function(){return v}),n.d(t,"d",function(){return g}),n.d(t,"c",function(){return w}),n.d(t,"f",function(){return y}),n.d(t,"b",function(){return x}),n.d(t,"g",function(){return j}),n.d(t,"a",function(){return O});var a=n("ln6h"),r=n.n(a),i=n("rt45"),o=n("O40h"),c=n("LIIV"),s=n("gIpB"),u=n("gs4i");function l(){var e=Object(i.a)(["\n                    mutation ($name: String!, $email: String!, $phone: String!, $password: String!, $role: String!, $organization: ID!) {\n                        addEmployment(name: $name, email: $email, phone: $phone, password: $password, role: $role, organization: $organization) {\n                             data\n                        }\n                    }"]);return l=function(){return e},e}function d(){var e=Object(i.a)(["\n                    mutation ($_id: ID!, $name: String, $email: String, $newPass: String, $role: String, $phone: String) {\n                        setEmployment(_id: $_id, name: $name, email: $email, newPass: $newPass, role: $role, phone: $phone) {\n                             data\n                        }\n                    }"]);return d=function(){return e},e}function p(){var e=Object(i.a)(["\n                    mutation ($_id: [ID]!) {\n                        deleteEmployment(_id: $_id) {\n                             data\n                        }\n                    }"]);return p=function(){return e},e}function m(){var e=Object(i.a)(["\n                    mutation ($_id: [ID]!) {\n                        onoffEmployment(_id: $_id) {\n                             data\n                        }\n                    }"]);return m=function(){return e},e}function f(){var e=Object(i.a)(["\n                    query ($_id: ID) {\n                        ecspeditors(_id: $_id) {\n                            _id\n                            updatedAt\n                            name\n                            email\n                            user \n                                {_id role status phone}\n                            organization \n                                {_id name}\n                        }\n                    }"]);return f=function(){return e},e}function b(){var e=Object(i.a)(["\n                    query ($_id: ID!) {\n                        employment(_id: $_id) {\n                            _id\n                            updatedAt\n                            name\n                            email\n                            user \n                                {_id role status phone}\n                            organization \n                                {_id name}\n                        }\n                    }"]);return b=function(){return e},e}function h(){var e=Object(i.a)(["\n                    query ($search: String!, $sort: String!, $filter: String!) {\n                        employments(search: $search, sort: $sort, filter: $filter) {\n                            _id\n                            updatedAt\n                            name\n                            email\n                            user \n                                {_id role status phone}\n                            organization \n                                {_id name}\n                          }\n                          sortEmployment {\n                           name\n                            field\n                          }\n                          filterEmployment {\n                           name\n                           value\n                          }\n                    }"]);return h=function(){return e},e}var v=function(){var e=Object(o.a)(r.a.mark(function e(t){var n,a,i,o,u;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.search,a=t.sort,i=t.filter,e.prev=1,o=(new s.a).getClient(),e.next=5,o.query({variables:{search:n,sort:a,filter:i},query:Object(c.a)(h())});case 5:return u=e.sent,e.abrupt("return",u.data);case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(o.a)(r.a.mark(function e(t){var n,a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,e.prev=1,a=(new s.a).getClient(),e.next=5,a.query({variables:{_id:n},query:Object(c.a)(b())});case 5:return i=e.sent,e.abrupt("return",i.data);case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(r.a.mark(function e(t){var n,a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,e.prev=1,a=(new s.a).getClient(),e.next=5,a.query({variables:{_id:n},query:Object(c.a)(f())});case 5:return i=e.sent,e.abrupt("return",i.data);case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(o.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(new s.a).getClient(),e.next=4,n.mutate({variables:{_id:t},mutation:Object(c.a)(m())});case 4:return e.next=6,v((new u.a).getStore().getState().app);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(new s.a).getClient(),e.next=4,n.mutate({variables:{_id:t},mutation:Object(c.a)(p())});case 4:return e.next=6,v((new u.a).getStore().getState().app);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(o.a)(r.a.mark(function e(t){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(new s.a).getClient(),e.next=4,n.mutate({variables:t,mutation:Object(c.a)(d())});case 4:return e.next=6,v((new u.a).getStore().getState().app);case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(o.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(new s.a).getClient(),e.next=4,n.mutate({variables:t,mutation:Object(c.a)(l())});case 4:return e.next=6,v((new u.a).getStore().getState().app);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},"1waj":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("q1tI")),i=(0,a(n("8/g6")).default)(r.default.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=i},XX3T:function(e,t,n){"use strict";var a=n("Ff2n"),r=n("wx14"),i=n("q1tI"),o=n.n(i),c=(n("17x9"),n("iuhU")),s=n("H2TA"),u=n("VD++"),l=n("mVKy"),d=o.a.forwardRef(function(e,t){var n=e.children,i=e.classes,s=e.className,d=e.color,p=void 0===d?"default":d,m=e.component,f=void 0===m?"button":m,b=e.disabled,h=void 0!==b&&b,v=e.disableFocusRipple,g=void 0!==v&&v,w=e.focusVisibleClassName,y=e.size,x=void 0===y?"large":y,j=e.variant,O=void 0===j?"round":j,_=Object(a.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return o.a.createElement(u.a,Object(r.a)({className:Object(c.a)(i.root,s,"round"!==O&&i.extended,"large"!==x&&i["size".concat(Object(l.a)(x))],h&&i.disabled,{primary:i.primary,secondary:i.secondary,inherit:i.colorInherit}[p]),component:f,disabled:h,focusRipple:!g,focusVisibleClassName:Object(c.a)(i.focusVisible,w),ref:t},_),o.a.createElement("span",{className:i.label},n))});t.a=Object(s.a)(function(e){return{root:Object(r.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&$focusVisible":{boxShadow:e.shadows[6]},"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}},{name:"MuiFab"})(d)},sUnw:function(e,t,n){"use strict";n.r(t);var a=n("ln6h"),r=n.n(a),i=n("O40h"),o=n("m/Pd"),c=n.n(o),s=n("q1tI"),u=n.n(s),l=n("aSjJ"),d=n("R/WZ"),p=Object(d.a)({page:{paddingTop:20,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"},fab:{position:"fixed",bottom:"20px",right:"20px"}}),m=n("175S"),f=n("30+C"),b=n("lFIR"),h=n("oa/T"),v=Object(d.a)({cardM:{width:"calc(100vw - 40px)",marginBottom:20},cardD:{width:400,margin:10},media:{borderRadius:"30px",objectFit:"cover",height:"60px",width:"60px",marginRight:10},avatar:{borderRadius:"50px",objectFit:"cover",height:"100px",width:"100px",margin:10},text:{fontWeight:"bold",fontSize:"16px",fontFamily:"Roboto"},inputM:{marginBottom:5,width:"calc(100vw - 82px)",fontSize:"16px",fontFamily:"Roboto"},inputD:{marginBottom:5,width:318,fontSize:"16px",fontFamily:"Roboto"},line:{margin:10,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row"},nameField:{marginBottom:10,fontWeight:"bold",fontSize:"0.875rem",fontFamily:"Roboto",color:"#A0A0A0"},value:{marginBottom:10,fontWeight:"500",fontSize:"0.875rem",fontFamily:"Roboto"},row:{display:"flex",flexDirection:"row",alignItems:"baseline"}}),g=n("/MKj"),w=n("YFqc"),y=n.n(w),x=n("Z3vd"),j=n("o4QW"),O=n("UgXd"),_=n.n(O),$=n("ANjH"),S=n("pngM"),k=u.a.createElement,C=_()(function(){return n.e(2).then(n.bind(null,"y4xb"))},{loadableGenerated:{webpack:function(){return["y4xb"]},modules:["../../components/dialog/Confirmation"]}}),N=u.a.memo(function(e){var t=v(),n=e.element,a=e.setList,o=e.app.isMobileApp,c=e.user.profile,u=e.mini_dialogActions,l=u.setMiniDialog,d=u.showMiniDialog,p=Object(s.useState)(void 0!==n?n.user.status:""),g=p[0],w=p[1];return k(f.a,{className:o?t.cardM:t.cardD},k(b.a,null,k(y.a,{href:"/employment/[id]",as:"/employment/".concat(n.user._id)},k(h.a,null,k("div",{className:t.row},k("div",{className:t.nameField},"\u0418\u043c\u044f:\xa0"),k("div",{className:t.value},n.name)),k("div",{className:t.row},k("div",{className:t.nameField},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:\xa0"),k("div",{className:t.value},n.user.phone)),k("div",{className:t.row},k("div",{className:t.nameField},"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f:\xa0"),k("div",{className:t.value},n.organization.name)),k("div",{className:t.row},k("div",{className:t.nameField},"\u0420\u043e\u043b\u044c:\xa0"),k("div",{className:t.value},n.user.role))))),"admin"!==c.role&&"\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f"!==c.role||c._id===n.user._id?null:k(j.a,null,k(x.a,{onClick:Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b?",k(C,{action:function(){var e=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.f)([n._id]);case 2:w("active"===g?"deactive":"active");case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()})),d(!0);case 3:case"end":return e.stop()}},e)})),size:"small",color:"primary"},"active"===g?"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c"),k(x.a,{onClick:Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b?",k(C,{action:function(){var e=Object(i.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.b)([n._id]);case 2:t=e.sent.employments,a(t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()})),d(!0);case 3:case"end":return e.stop()}},e)})),size:"small",color:"primary"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))});var z=Object(g.b)(function(e){return{app:e.app,user:e.user}},function(e){return{mini_dialogActions:Object($.b)(S,e)}})(N),I=n("XX3T"),R=n("1waj"),F=n.n(R),A=u.a.createElement,D=u.a.memo(function(e){var t=p(),n=e.data,a=Object(s.useState)(n.employments),o=a[0],u=a[1],d=e.app,f=d.search,b=d.filter,h=d.sort,v=e.user.profile;return Object(s.useEffect)(function(){Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,Object(m.e)({search:f,sort:h,filter:b});case 3:e.t1=e.sent.employments,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}))()},[b,h,f]),A(l.a,{filters:n.filterEmployment,sorts:n.sortEmployment,pageName:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"},A(c.a,null,A("title",null,"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438")),A("div",{className:t.page},o?o.map(function(e){return A(z,{key:e._id,setList:u,element:e})}):null),["admin","\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f"].includes(v.role)?A(y.a,{href:"/employment/[id]",as:"/employment/new"},A(I.a,{color:"primary","aria-label":"add",className:t.fab},A(F.a,null))):null)});D.getInitialProps=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.e)({search:"",sort:"-updatedAt",filter:""});case 2:return e.t0=e.sent,e.abrupt("return",{data:e.t0});case 4:case"end":return e.stop()}},e)}));t.default=Object(g.b)(function(e){return{app:e.app,user:e.user}})(D)}},[["/LA3",1,0]]]);
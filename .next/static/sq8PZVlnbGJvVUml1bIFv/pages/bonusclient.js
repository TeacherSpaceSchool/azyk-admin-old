(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{DYla:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("ln6h"),r=n.n(a),i=n("rt45"),o=n("O40h"),s=n("LIIV"),c=n("gIpB");n("gs4i");function u(){var e=Object(i.a)(["\n                    query ($search: String!, $sort: String!) {\n                        bonusesClient(search: $search, sort: $sort) {\n                            _id\n                            createdAt\n                            current\n                            addedBonus\n                            bonus {\n                                _id\n                                target\n                                bonus\n                                organization\n                                    {_id name image}\n                                }\n                            client {\n                                _id\n                                image\n                                name\n                                user \n                                    {_id}\n                            }\n                        }\n                        sortBonusClient {\n                            name\n                            field\n                        }\n                    }"]);return u=function(){return e},e}var l=function(){var e=Object(o.a)(r.a.mark(function e(t){var n,a,i,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.search,a=t.sort,e.prev=1,i=(new c.a).getClient(),e.next=5,i.query({variables:{search:n,sort:a},query:Object(s.a)(u())});case 5:return o=e.sent,e.abrupt("return",o.data);case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()},NgRk:function(e,t,n){"use strict";var a=n("R/WZ");t.a=Object(a.a)({page:{paddingTop:20,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"}})},UEjT:function(e,t,n){"use strict";var a=n("R/WZ");t.a=Object(a.a)({cardM:{width:"calc(100vw - 40px)",marginBottom:20},cardD:{width:400,margin:10},input:{width:"100%",marginBottom:10},media:{objectFit:"cover",height:"60px",width:"60px",marginRight:10},line:{display:"flex",alignItems:"start",justifyContent:"start",flexDirection:"row"},nameField:{marginBottom:10,fontWeight:"bold",fontSize:"0.875rem",fontFamily:"Roboto",color:"#A0A0A0"},value:{marginBottom:10,fontWeight:"500",fontSize:"0.875rem",fontFamily:"Roboto"},row:{display:"flex",flexDirection:"row",alignItems:"baseline"}})},dU2l:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return m});var a=n("ln6h"),r=n.n(a),i=n("rt45"),o=n("O40h"),s=n("LIIV"),c=n("gIpB"),u=n("gs4i");function l(){var e=Object(i.a)(["\n                    mutation ($_id: ID!, $target: Int!, $bonus: Int!) {\n                        setBonus(_id: $_id, target: $target, bonus: $bonus) {\n                             data\n                        }\n                    }"]);return l=function(){return e},e}function d(){var e=Object(i.a)(["\n                    query ($search: String!, $sort: String!) {\n                        bonuses(search: $search, sort: $sort) {\n                            _id\n                            createdAt\n                            target\n                            bonus\n                            organization\n                                {_id name image}\n                        }\n                        sortBonus {\n                            name\n                            field\n                        }\n                    }"]);return d=function(){return e},e}var p=function(){var e=Object(o.a)(r.a.mark(function e(t){var n,a,i,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.search,a=t.sort,e.prev=1,i=(new c.a).getClient(),e.next=5,i.query({variables:{search:n,sort:a},query:Object(s.a)(d())});case 5:return o=e.sent,e.abrupt("return",o.data);case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(r.a.mark(function e(t){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(new c.a).getClient(),e.next=4,n.mutate({variables:t,mutation:Object(s.a)(l())});case 4:return e.next=6,p((new u.a).getStore().getState().app);case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()},fXxH:function(e,t,n){"use strict";n.r(t);var a=n("ln6h"),r=n.n(a),i=n("O40h"),o=n("m/Pd"),s=n.n(o),c=n("q1tI"),u=n.n(c),l=n("aSjJ"),d=n("/MKj"),p=n("ANjH"),m=n("j6IE"),f=n("DYla"),b=n("NgRk"),g=n("30+C"),h=n("lFIR"),v=n("oa/T"),w=n("UEjT"),j=n("YFqc"),O=n.n(j),y=n("pngM"),N=(n("dU2l"),n("y4xb"),n("NOnC"),u.a.createElement),x=u.a.memo(function(e){var t=Object(w.a)(),n=e.element,a=e.app.isMobileApp,r=e.user.profile;return N(g.a,{className:a?t.cardM:t.cardD},N(h.a,null,N(v.a,{className:t.line},N("img",{className:t.media,src:["\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f","\u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"].includes(r.role)?n.client.image:n.bonus.organization.image,alt:n.bonus.organization.name}),N("div",null,["\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f","\u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"].includes(r.role)?null:N(O.a,{href:"/organization/[id]",as:"/organization/".concat(n.bonus.organization._id)},N("h3",{className:a?t.inputM:t.inputD},n.bonus.organization.name)),N("br",null),N("div",{className:t.row},N("div",{className:t.nameField},"\u041a\u043b\u0438\u0435\u043d\u0442:\xa0"),N(O.a,{href:"/client/[id]",as:"/client/".concat(n.client.user._id)},N("div",{className:t.value},n.client.name))),N("div",{className:t.row},N("div",{className:t.nameField},"\u0426\u0435\u043b\u044c:\xa0"),N("div",{className:t.value},n.bonus.target,"\xa0\u0441\u043e\u043c")),N("div",{className:t.row},N("div",{className:t.nameField},"\u041f\u0440\u043e\u0433\u0440\u0435\u0441\u0441:\xa0"),N("div",{className:t.value},n.current,"\xa0\u0441\u043e\u043c")),N("div",{className:t.row},N("div",{className:t.nameField},"\u0411\u043e\u043d\u0443\u0441:\xa0"),N("div",{className:t.value},n.addedBonus,"\xa0\u0441\u043e\u043c"))))))});var _=Object(d.b)(function(e){return{app:e.app,user:e.user}},function(e){return{mini_dialogActions:Object(p.b)(y,e)}})(x),C=n("9a0h"),I=n("HMs9"),$=n.n(I),A=n("SpDg"),k=u.a.createElement,D=u.a.memo(function(e){var t=Object(w.a)(),n=e.height,a=e.app.isMobileApp;return k("div",{className:a?t.cardM:t.cardD,style:{height:n}},k(A.a,{variant:"rect",height:"100%"}))});var R=Object(d.b)(function(e){return{user:e.user,app:e.app}})(D),B=u.a.createElement,E=u.a.memo(function(e){var t=Object(b.a)(),n=e.data,a=Object(c.useState)(n.bonusesClient),o=a[0],u=a[1],d=e.app,p=d.search,m=d.sort,g=e.user.profile,h="admin"===g.role?227:119;return Object(c.useEffect)(function(){Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,Object(f.a)({search:p,sort:m});case 3:e.t1=e.sent.bonusesClient,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}))()},[m,p]),B(l.a,{sorts:n.sortBonusClient,pageName:["admin","\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f","\u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"].includes(g.role)?"\u0411\u043e\u043d\u0443\u0441\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432":"\u041c\u043e\u0438 \u0431\u043e\u043d\u0443\u0441\u044b"},B(s.a,null,B("title",null,["admin","\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f","\u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"].includes(g.role)?"\u0411\u043e\u043d\u0443\u0441\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432":"\u041c\u043e\u0438 \u0431\u043e\u043d\u0443\u0441\u044b"),B("meta",{name:"description",content:"\u0410\u0437\u044b\u043a \u2013 \u044d\u0442\u043e \u043e\u043d\u043b\u0430\u0439\u043d \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430 \u0434\u043b\u044f \u0437\u0430\u043a\u0430\u0437\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u043e\u043f\u0442\u043e\u043c, \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u0430\u044f \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u043c\u0430\u043b\u043e\u0433\u043e \u0438 \u0441\u0440\u0435\u0434\u043d\u0435\u0433\u043e \u0431\u0438\u0437\u043d\u0435\u0441\u0430.  \u041e\u043d\u0430 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0435\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439 \u0438 \u0442\u043e\u0440\u0433\u043e\u0432\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e, \u0441\u043e\u043a\u0440\u0430\u0449\u0430\u044f \u0440\u0430\u0441\u0445\u043e\u0434\u044b \u0438 \u043f\u043e\u0432\u044b\u0448\u0430\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0438. \u0410\u0437\u044b\u043a \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u0432\u043e\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u043c\u043e\u0449\u043d\u044b\u0435 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438 \u0434\u043b\u044f \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u044f \u0441\u0432\u043e\u0435\u0433\u043e \u0431\u0438\u0437\u043d\u0435\u0441\u0430."}),B("meta",{property:"og:title",content:["admin","\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f","\u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"].includes(g.role)?"\u0411\u043e\u043d\u0443\u0441\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432":"\u041c\u043e\u0438 \u0431\u043e\u043d\u0443\u0441\u044b"}),B("meta",{property:"og:description",content:"\u0410\u0437\u044b\u043a \u2013 \u044d\u0442\u043e \u043e\u043d\u043b\u0430\u0439\u043d \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430 \u0434\u043b\u044f \u0437\u0430\u043a\u0430\u0437\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u043e\u043f\u0442\u043e\u043c, \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u0430\u044f \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u043c\u0430\u043b\u043e\u0433\u043e \u0438 \u0441\u0440\u0435\u0434\u043d\u0435\u0433\u043e \u0431\u0438\u0437\u043d\u0435\u0441\u0430.  \u041e\u043d\u0430 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0435\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439 \u0438 \u0442\u043e\u0440\u0433\u043e\u0432\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e, \u0441\u043e\u043a\u0440\u0430\u0449\u0430\u044f \u0440\u0430\u0441\u0445\u043e\u0434\u044b \u0438 \u043f\u043e\u0432\u044b\u0448\u0430\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0438. \u0410\u0437\u044b\u043a \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u0432\u043e\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u043c\u043e\u0449\u043d\u044b\u0435 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438 \u0434\u043b\u044f \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u044f \u0441\u0432\u043e\u0435\u0433\u043e \u0431\u0438\u0437\u043d\u0435\u0441\u0430."}),B("meta",{property:"og:type",content:"website"}),B("meta",{property:"og:image",content:"".concat(C.b,"/static/512x512.png")}),B("meta",{property:"og:url",content:"".concat(C.b,"/bonusclient")}),B("link",{rel:"canonical",href:"".concat(C.b,"/bonusclient")})),B("div",{className:t.page},o?o.map(function(e){return B($.a,{scrollContainer:".App-body",key:e._id,height:h,offset:[h,0],debounce:100,placeholder:B(R,{height:h})},B(_,{key:e._id,element:e}))}):null))});E.getInitialProps=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)({search:"",sort:"-createdAt"});case 2:return e.t0=e.sent,e.abrupt("return",{data:e.t0});case 4:case"end":return e.stop()}},e)}));t.default=Object(d.b)(function(e){return{user:e.user,app:e.app}},function(e){return{userActions:Object(p.b)(m,e)}})(E)},lFIR:function(e,t,n){"use strict";var a=n("wx14"),r=n("Ff2n"),i=n("q1tI"),o=n.n(i),s=(n("17x9"),n("iuhU")),c=n("H2TA"),u=n("VD++"),l=o.a.forwardRef(function(e,t){var n=e.children,i=e.classes,c=e.className,l=e.focusVisibleClassName,d=Object(r.a)(e,["children","classes","className","focusVisibleClassName"]);return o.a.createElement(u.a,Object(a.a)({className:Object(s.a)(i.root,c),focusVisibleClassName:Object(s.a)(l,i.focusVisible),ref:t},d),n,o.a.createElement("span",{className:i.focusHighlight}))});t.a=Object(c.a)(function(e){return{root:{display:"block",textAlign:"inherit",width:"100%","&:hover $focusHighlight":{opacity:e.palette.action.hoverOpacity},"&$focusVisible $focusHighlight":{opacity:.12}},focusVisible:{},focusHighlight:{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}}},{name:"MuiCardActionArea"})(l)},tR3D:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bonusclient",function(){var e=n("fXxH");return{page:e.default||e}}])}},[["tR3D",1,0]]]);
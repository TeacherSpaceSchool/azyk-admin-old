{"ast":null,"code":"var __jsx = React.createElement;\nimport Link from 'next/link';\nimport React, { useState, useEffect } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport LocalGroceryStore from '@material-ui/icons/LocalGroceryStore';\nimport Star from '@material-ui/icons/Star';\nimport ExitToApp from '@material-ui/icons/ExitToApp';\nimport AssignmentInd from '@material-ui/icons/AssignmentInd';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as mini_dialogActions from '../../redux/actions/mini_dialog';\nimport * as userActions from '../../redux/actions/user';\nimport * as appActions from '../../redux/actions/app';\nimport appbarStyle from '../../src/styleMUI/appbar';\nimport { getCountBasket } from '../../src/gql/basket';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\nimport Paper from '@material-ui/core/Paper';\nimport Cancel from '@material-ui/icons/Cancel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Search from '@material-ui/icons/SearchRounded';\nimport Sort from '@material-ui/icons/SortRounded';\nimport FilterList from '@material-ui/icons/FilterListRounded';\nimport PermIdentity from '@material-ui/icons/PermIdentity';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport Badge from '@material-ui/core/Badge';\nimport Sign from '../dialog/Sign';\nimport Confirmation from '../dialog/Confirmation';\nconst MyAppBar = React.memo(props => {\n  //props\n  const classes = appbarStyle();\n  const {\n    filters,\n    sorts,\n    pageName\n  } = props;\n  const {\n    drawer,\n    search,\n    filter,\n    sort,\n    isMobileApp,\n    countBasket\n  } = props.app;\n  const {\n    showDrawer,\n    setSearch,\n    setFilter,\n    setSort\n  } = props.appActions;\n  const {\n    authenticated,\n    profile\n  } = props.user;\n  const {\n    setMiniDialog,\n    showMiniDialog\n  } = props.mini_dialogActions;\n  const {\n    logout\n  } = props.userActions; //state\n\n  const [anchorElMobileMenu, setAnchorElMobileMenu] = React.useState(null);\n  const openMobileMenu = Boolean(anchorElMobileMenu);\n\n  let handleMobileMenu = event => {\n    setAnchorElMobileMenu(event.currentTarget);\n  };\n\n  let handleCloseMobileMenu = () => {\n    setAnchorElMobileMenu(null);\n  };\n\n  const {\n    0: anchorElSort,\n    1: setAnchorElSort\n  } = useState(null);\n  const openSort = Boolean(anchorElSort);\n\n  let handleMenuSort = event => {\n    setAnchorElSort(event.currentTarget);\n  };\n\n  let handleCloseSort = () => {\n    setAnchorElSort(null);\n  };\n\n  const {\n    0: anchorElProfile,\n    1: setAnchorElProfile\n  } = useState(null);\n  const openProfile = Boolean(anchorElProfile);\n\n  let handleMenuProfile = event => {\n    setAnchorElProfile(event.currentTarget);\n  };\n\n  let handleCloseProfile = () => {\n    setAnchorElProfile(null);\n  };\n\n  const {\n    0: anchorElFilter,\n    1: setAnchorElFilter\n  } = useState(null);\n  const openFilter = Boolean(anchorElFilter);\n\n  let handleMenuFilter = event => {\n    setAnchorElFilter(event.currentTarget);\n  };\n\n  let handleCloseFilter = () => {\n    setAnchorElFilter(null);\n  };\n\n  const {\n    0: openSearch,\n    1: setOpenSearch\n  } = useState(false);\n\n  let handleSearch = event => {\n    setSearch(event.target.value);\n  };\n\n  useEffect(() => {\n    (async () => {\n      getCountBasket();\n    })();\n  }, []);\n  return __jsx(\"div\", {\n    className: classes.root\n  }, __jsx(AppBar, {\n    position: \"fixed\",\n    className: classes.appBar\n  }, __jsx(Toolbar, null, isMobileApp ? __jsx(IconButton, {\n    edge: \"start\",\n    \"aria-owns\": \"menu-appbar\",\n    \"aria-haspopup\": \"true\",\n    onClick: () => {\n      showDrawer(!drawer);\n    },\n    color: \"inherit\"\n  }, __jsx(MenuIcon, null)) : null, __jsx(Typography, {\n    variant: \"h6\",\n    className: classes.title\n  }, pageName), isMobileApp ? openSearch ? __jsx(Paper, {\n    className: classes.searchM\n  }, __jsx(Input, {\n    className: classes.searchField,\n    id: \"adornment-password\",\n    type: 'login',\n    value: search,\n    onChange: handleSearch,\n    endAdornment: __jsx(InputAdornment, {\n      position: \"end\"\n    }, __jsx(IconButton, {\n      \"aria-label\": \"Search\",\n      onClick: () => {\n        setSearch('');\n        setOpenSearch(false);\n      }\n    }, __jsx(Cancel, null)))\n  })) : __jsx(React.Fragment, null, __jsx(IconButton, {\n    \"aria-owns\": openMobileMenu ? 'menu-appbar' : undefined,\n    \"aria-haspopup\": \"true\",\n    onClick: handleMobileMenu,\n    color: \"inherit\"\n  }, __jsx(Search, null)), __jsx(Menu, {\n    id: \"menu-appbar\",\n    anchorEl: anchorElMobileMenu,\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'right'\n    },\n    transformOrigin: {\n      vertical: 'bottom',\n      horizontal: 'right'\n    },\n    open: openMobileMenu,\n    onClose: handleCloseMobileMenu\n  }, __jsx(MenuItem, {\n    onClick: () => {\n      setOpenSearch(true);\n      handleCloseMobileMenu();\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      color: '#606060'\n    }\n  }, __jsx(Search, null), \"\\xA0\\u041F\\u043E\\u0438\\u0441\\u043A\")), filters && filters.length > 0 ? [__jsx(MenuItem, {\n    onClick: handleMenuFilter\n  }, __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      color: '#606060'\n    }\n  }, __jsx(FilterList, null), \"\\xA0\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440\")), __jsx(Menu, {\n    key: \"filter\",\n    id: \"menu-appbar\",\n    anchorEl: anchorElFilter,\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    transformOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    open: openFilter,\n    onClose: handleCloseFilter\n  }, filters.map((elem, idx) => __jsx(MenuItem, {\n    key: 'filter' + idx,\n    style: {\n      background: filter === elem.value ? 'rgba(51, 143, 255, 0.29)' : '#fff'\n    },\n    onClick: () => {\n      setFilter(elem.value);\n      handleCloseFilter();\n    }\n  }, elem.name)))] : null, sorts && sorts.length > 0 ? [__jsx(MenuItem, {\n    onClick: handleMenuSort\n  }, __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      color: '#606060'\n    }\n  }, __jsx(Sort, null), \"\\xA0\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430\")), __jsx(Menu, {\n    key: \"sort\",\n    id: \"menu-appbar\",\n    anchorEl: anchorElSort,\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'left'\n    },\n    transformOrigin: {\n      vertical: 'top',\n      horizontal: 'left'\n    },\n    open: openSort,\n    onClose: handleCloseSort\n  }, sorts.map((elem, idx) => __jsx(MenuItem, {\n    key: 'sort' + idx,\n    onClick: () => {\n      sort === `-${elem.field}` ? setSort(elem.field) : setSort(`-${elem.field}`);\n      /*handleCloseSort();handleCloseMobileMenu()*/\n    }\n  }, sort === `-${elem.field}` ? __jsx(ArrowDownward, null) : sort === elem.field ? __jsx(ArrowUpward, null) : __jsx(\"div\", {\n    style: {\n      width: '24px'\n    }\n  }), elem.name)))] : null), __jsx(Tooltip, {\n    title: \"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"\n  }, __jsx(IconButton, {\n    \"aria-owns\": \"menu-appbar\",\n    \"aria-haspopup\": \"true\",\n    color: \"inherit\",\n    onClick: handleMenuProfile\n  }, __jsx(Badge, {\n    badgeContent: countBasket,\n    color: \"secondary\"\n  }, __jsx(PermIdentity, null)))), __jsx(Menu, {\n    id: \"menu-appbar\",\n    anchorEl: anchorElProfile,\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    transformOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    open: openProfile,\n    onClose: handleCloseProfile\n  }, !authenticated || profile.role === 'client' ? [__jsx(MenuItem, null, __jsx(Badge, {\n    badgeContent: countBasket,\n    color: \"secondary\"\n  }, __jsx(Link, {\n    href: \"/basket\"\n  }, __jsx(\"a\", {\n    style: {\n      display: 'flex',\n      color: '#606060'\n    }\n  }, __jsx(LocalGroceryStore, null), \"\\xA0\\u041A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0430\\xA0\\xA0\")))), __jsx(MenuItem, null, __jsx(Link, {\n    href: \"/favorite\"\n  }, __jsx(\"a\", {\n    style: {\n      display: 'flex',\n      color: '#606060'\n    }\n  }, __jsx(Star, null), \"\\xA0\\u0418\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435\")))] : null, authenticated && profile.role !== 'admin' ? __jsx(MenuItem, null, __jsx(Link, {\n    href: `/${profile.role === 'client' ? 'client' : 'employment'}/[id]`,\n    as: `/${profile.role === 'client' ? 'client' : 'employment'}/${profile._id}`\n  }, __jsx(\"a\", {\n    style: {\n      display: 'flex',\n      color: '#606060'\n    }\n  }, __jsx(AssignmentInd, null), \"\\xA0\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"))) : null, authenticated ? __jsx(MenuItem, {\n    onClick: () => {\n      handleCloseProfile();\n\n      const action = async () => {\n        logout(true);\n      };\n\n      setMiniDialog('Вы уверенны?', __jsx(Confirmation, {\n        action: action\n      }));\n      showMiniDialog(true);\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      color: '#606060'\n    }\n  }, __jsx(ExitToApp, null), \"\\xA0\\u0412\\u044B\\u0439\\u0442\\u0438\")) : __jsx(MenuItem, {\n    onClick: () => {\n      handleCloseProfile();\n      setMiniDialog('Вход', __jsx(Sign, {\n        isMobileApp: isMobileApp\n      }));\n      showMiniDialog(true);\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      color: '#606060'\n    }\n  }, __jsx(ExitToApp, null), \"\\xA0\\u0412\\u043E\\u0439\\u0442\\u0438\")))) : openSearch ? __jsx(Paper, {\n    className: classes.searchD\n  }, __jsx(Input, {\n    className: classes.searchField,\n    id: \"adornment-password\",\n    type: 'login',\n    value: search,\n    onChange: handleSearch,\n    endAdornment: __jsx(InputAdornment, {\n      position: \"end\"\n    }, __jsx(IconButton, {\n      \"aria-label\": \"Search\",\n      onClick: () => {\n        setSearch('');\n        setOpenSearch(false);\n      }\n    }, __jsx(Cancel, null)))\n  })) : __jsx(React.Fragment, null, filters && filters.length > 0 ? __jsx(React.Fragment, null, __jsx(Tooltip, {\n    title: \"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440\"\n  }, __jsx(IconButton, {\n    \"aria-owns\": openFilter ? 'menu-appbar' : undefined,\n    \"aria-haspopup\": \"true\",\n    onClick: handleMenuFilter,\n    color: \"inherit\"\n  }, __jsx(FilterList, null))), __jsx(Menu, {\n    id: \"menu-appbar\",\n    key: \"filter\",\n    anchorEl: anchorElFilter,\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    transformOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    open: openFilter,\n    onClose: handleCloseFilter\n  }, filters.map((elem, idx) => __jsx(MenuItem, {\n    key: 'filter' + idx,\n    style: {\n      background: filter === elem.value ? 'rgba(51, 143, 255, 0.29)' : '#fff'\n    },\n    onClick: () => {\n      setFilter(elem.value);\n      handleCloseFilter();\n    }\n  }, elem.name))), \"\\xA0\") : null, sorts && sorts.length > 0 ? __jsx(React.Fragment, null, __jsx(Tooltip, {\n    title: \"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430\"\n  }, __jsx(IconButton, {\n    \"aria-owns\": openSort ? 'menu-appbar' : undefined,\n    \"aria-haspopup\": \"true\",\n    onClick: handleMenuSort,\n    color: \"inherit\"\n  }, __jsx(Sort, null))), __jsx(Menu, {\n    id: \"menu-appbar\",\n    anchorEl: anchorElSort,\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    transformOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    open: openSort,\n    onClose: handleCloseSort,\n    key: \"sort\"\n  }, sorts.map((elem, idx) => __jsx(MenuItem, {\n    key: 'sort' + idx,\n    onClick: () => {\n      sort === `-${elem.field}` ? setSort(elem.field) : setSort(`-${elem.field}`);\n      handleCloseSort();\n    }\n  }, sort === `-${elem.field}` ? __jsx(ArrowDownward, null) : sort === elem.field ? __jsx(ArrowUpward, null) : __jsx(\"div\", {\n    style: {\n      width: '24px'\n    }\n  }), elem.name))), \"\\xA0\") : null, __jsx(Tooltip, {\n    title: \"\\u041F\\u043E\\u0438\\u0441\\u043A\"\n  }, __jsx(IconButton, {\n    \"aria-owns\": openSearch ? 'menu-appbar' : undefined,\n    \"aria-haspopup\": \"true\",\n    onClick: () => {\n      setOpenSearch(true);\n    },\n    color: \"inherit\"\n  }, __jsx(Search, null))), __jsx(Tooltip, {\n    title: \"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"\n  }, __jsx(IconButton, {\n    \"aria-owns\": \"menu-appbar\",\n    \"aria-haspopup\": \"true\",\n    color: \"inherit\",\n    onClick: handleMenuProfile\n  }, __jsx(Badge, {\n    badgeContent: countBasket,\n    color: \"secondary\"\n  }, __jsx(PermIdentity, null)))), __jsx(Menu, {\n    id: \"menu-appbar\",\n    anchorEl: anchorElProfile,\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    transformOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    open: openProfile,\n    onClose: handleCloseProfile\n  }, !authenticated || profile.role === 'client' ? [__jsx(MenuItem, null, __jsx(Badge, {\n    badgeContent: countBasket,\n    color: \"secondary\"\n  }, __jsx(Link, {\n    href: \"/basket\"\n  }, __jsx(\"a\", {\n    style: {\n      display: 'flex',\n      color: '#606060'\n    }\n  }, __jsx(LocalGroceryStore, null), \"\\xA0\\u041A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0430\\xA0\\xA0\")))), __jsx(MenuItem, null, __jsx(Link, {\n    href: \"/favorite\"\n  }, __jsx(\"a\", {\n    style: {\n      display: 'flex',\n      color: '#606060'\n    }\n  }, __jsx(Star, null), \"\\xA0\\u0418\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435\")))] : null, authenticated && profile.role !== 'admin' ? __jsx(MenuItem, null, __jsx(Link, {\n    href: `/${profile.role === 'client' ? 'client' : 'employment'}/[id]`,\n    as: `/${profile.role === 'client' ? 'client' : 'employment'}/${profile._id}`\n  }, __jsx(\"a\", {\n    style: {\n      display: 'flex',\n      color: '#606060'\n    }\n  }, __jsx(AssignmentInd, null), \"\\xA0\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"))) : null, authenticated ? __jsx(MenuItem, {\n    onClick: () => {\n      handleCloseProfile();\n\n      const action = async () => {\n        logout(true);\n      };\n\n      setMiniDialog('Вы уверенны?', __jsx(Confirmation, {\n        action: action\n      }));\n      showMiniDialog(true);\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      color: '#606060'\n    }\n  }, __jsx(ExitToApp, null), \"\\xA0\\u0412\\u044B\\u0439\\u0442\\u0438\")) : __jsx(MenuItem, {\n    onClick: () => {\n      handleCloseProfile();\n      setMiniDialog('Вход', __jsx(Sign, {\n        isMobileApp: isMobileApp\n      }));\n      showMiniDialog(true);\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      color: '#606060'\n    }\n  }, __jsx(ExitToApp, null), \"\\xA0\\u0412\\u043E\\u0439\\u0442\\u0438\")))))));\n});\n\nfunction mapStateToProps(state) {\n  return {\n    app: state.app,\n    user: state.user\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    appActions: bindActionCreators(appActions, dispatch),\n    userActions: bindActionCreators(userActions, dispatch),\n    mini_dialogActions: bindActionCreators(mini_dialogActions, dispatch)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyAppBar);","map":{"version":3,"sources":["C:\\projects\\azyk\\azyk-admin\\components\\app\\AppBar.js"],"names":["Link","React","useState","useEffect","AppBar","Toolbar","Typography","IconButton","Tooltip","MenuIcon","LocalGroceryStore","Star","ExitToApp","AssignmentInd","connect","bindActionCreators","mini_dialogActions","userActions","appActions","appbarStyle","getCountBasket","ArrowUpward","ArrowDownward","Paper","Cancel","FormControl","Input","InputAdornment","Search","Sort","FilterList","PermIdentity","MenuItem","Menu","Badge","Sign","Confirmation","MyAppBar","memo","props","classes","filters","sorts","pageName","drawer","search","filter","sort","isMobileApp","countBasket","app","showDrawer","setSearch","setFilter","setSort","authenticated","profile","user","setMiniDialog","showMiniDialog","logout","anchorElMobileMenu","setAnchorElMobileMenu","openMobileMenu","Boolean","handleMobileMenu","event","currentTarget","handleCloseMobileMenu","anchorElSort","setAnchorElSort","openSort","handleMenuSort","handleCloseSort","anchorElProfile","setAnchorElProfile","openProfile","handleMenuProfile","handleCloseProfile","anchorElFilter","setAnchorElFilter","openFilter","handleMenuFilter","handleCloseFilter","openSearch","setOpenSearch","handleSearch","target","value","root","appBar","title","searchM","searchField","undefined","vertical","horizontal","display","color","length","map","elem","idx","background","name","field","width","role","_id","action","searchD","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import Link from 'next/link';\r\nimport React, { useState, useEffect } from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport LocalGroceryStore from '@material-ui/icons/LocalGroceryStore';\r\nimport Star from '@material-ui/icons/Star';\r\nimport ExitToApp from '@material-ui/icons/ExitToApp';\r\nimport AssignmentInd from '@material-ui/icons/AssignmentInd';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport * as mini_dialogActions from '../../redux/actions/mini_dialog'\r\nimport * as userActions from '../../redux/actions/user'\r\nimport * as appActions from '../../redux/actions/app'\r\nimport appbarStyle from '../../src/styleMUI/appbar'\r\nimport { getCountBasket } from '../../src/gql/basket'\r\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\r\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Cancel from '@material-ui/icons/Cancel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Search from '@material-ui/icons/SearchRounded';\r\nimport Sort from '@material-ui/icons/SortRounded';\r\nimport FilterList from '@material-ui/icons/FilterListRounded';\r\nimport PermIdentity from '@material-ui/icons/PermIdentity';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Sign from '../dialog/Sign'\r\nimport Confirmation from '../dialog/Confirmation'\r\n\r\nconst MyAppBar = React.memo((props) => {\r\n    //props\r\n    const classes = appbarStyle();\r\n    const { filters, sorts, pageName } = props\r\n    const { drawer, search, filter, sort, isMobileApp, countBasket } = props.app;\r\n    const { showDrawer, setSearch, setFilter, setSort } = props.appActions;\r\n    const { authenticated, profile } = props.user;\r\n    const { setMiniDialog, showMiniDialog } = props.mini_dialogActions;\r\n    const { logout } = props.userActions;\r\n    //state\r\n    const [anchorElMobileMenu, setAnchorElMobileMenu] = React.useState(null);\r\n    const openMobileMenu = Boolean(anchorElMobileMenu);\r\n    let handleMobileMenu = (event) => {\r\n        setAnchorElMobileMenu(event.currentTarget);\r\n    }\r\n    let handleCloseMobileMenu = () => {\r\n        setAnchorElMobileMenu(null);\r\n    }\r\n    const [anchorElSort, setAnchorElSort] = useState(null);\r\n    const openSort = Boolean(anchorElSort);\r\n    let handleMenuSort = (event) => {\r\n        setAnchorElSort(event.currentTarget);\r\n    }\r\n    let handleCloseSort = () => {\r\n        setAnchorElSort(null);\r\n    }\r\n    const [anchorElProfile, setAnchorElProfile] = useState(null);\r\n    const openProfile = Boolean(anchorElProfile);\r\n    let handleMenuProfile = (event) => {\r\n        setAnchorElProfile(event.currentTarget);\r\n    }\r\n    let handleCloseProfile = () => {\r\n        setAnchorElProfile(null);\r\n    }\r\n    const [anchorElFilter, setAnchorElFilter] = useState(null);\r\n    const openFilter = Boolean(anchorElFilter);\r\n    let handleMenuFilter = (event) => {\r\n        setAnchorElFilter(event.currentTarget);\r\n    }\r\n    let handleCloseFilter = () => {\r\n        setAnchorElFilter(null);\r\n    }\r\n    const [openSearch, setOpenSearch] = useState(false);\r\n    let handleSearch = (event) => {\r\n        setSearch(event.target.value)\r\n    };\r\n    useEffect(()=>{\r\n        (async()=>{\r\n            getCountBasket()\r\n        })()\r\n    },[])\r\n    return (\r\n        <div className={classes.root}>\r\n            <AppBar position='fixed' className={classes.appBar}>\r\n                <Toolbar>\r\n                    {isMobileApp?\r\n                        <IconButton\r\n                            edge='start'\r\n                            aria-owns='menu-appbar'\r\n                            aria-haspopup='true'\r\n                            onClick={() => {showDrawer(!drawer)}}\r\n                            color='inherit'\r\n                        >\r\n                            <MenuIcon/>\r\n                        </IconButton>\r\n                        :\r\n                        null\r\n                    }\r\n                    <Typography variant='h6' className={classes.title}>\r\n                        {pageName}\r\n                    </Typography>\r\n                    {isMobileApp?\r\n                        openSearch?\r\n                            <Paper className={classes.searchM}>\r\n                                    <Input className={classes.searchField}\r\n                                        id='adornment-password'\r\n                                        type={'login'}\r\n                                        value={search}\r\n                                        onChange={handleSearch}\r\n                                        endAdornment={\r\n                                            <InputAdornment position='end'>\r\n                                                <IconButton aria-label='Search' onClick={()=>{setSearch('');setOpenSearch(false)}}>\r\n                                                    <Cancel />\r\n                                                </IconButton>\r\n                                            </InputAdornment>\r\n                                        }/>\r\n                            </Paper>\r\n                            :\r\n                            <>\r\n                            <IconButton\r\n                                aria-owns={openMobileMenu ? 'menu-appbar' : undefined}\r\n                                aria-haspopup='true'\r\n                                onClick={handleMobileMenu}\r\n                                color='inherit'\r\n                            >\r\n                                <Search />\r\n                            </IconButton>\r\n                            <Menu\r\n                                id='menu-appbar'\r\n                                anchorEl={anchorElMobileMenu}\r\n                                anchorOrigin={{\r\n                                    vertical: 'bottom',\r\n                                    horizontal: 'right',\r\n                                }}\r\n                                transformOrigin={{\r\n                                    vertical: 'bottom',\r\n                                    horizontal: 'right',\r\n                                }}\r\n                                open={openMobileMenu}\r\n                                onClose={handleCloseMobileMenu}\r\n                            >\r\n                                <MenuItem onClick={()=>{\r\n                                    setOpenSearch(true);handleCloseMobileMenu()\r\n                                }}>\r\n                                    <div style={{display: 'flex', color: '#606060'}}>\r\n                                        <Search/>&nbsp;Поиск\r\n                                    </div>\r\n                                </MenuItem>\r\n                                {filters&&filters.length>0?\r\n                                    [\r\n                                        <MenuItem onClick={handleMenuFilter}>\r\n                                            <div style={{display: 'flex', color: '#606060'}}>\r\n                                                <FilterList/>&nbsp;Фильтр\r\n                                            </div>\r\n                                        </MenuItem>,\r\n                                        <Menu\r\n                                            key='filter'\r\n                                            id='menu-appbar'\r\n                                            anchorEl={anchorElFilter}\r\n                                            anchorOrigin={{\r\n                                                vertical: 'top',\r\n                                                horizontal: 'right',\r\n                                            }}\r\n                                            transformOrigin={{\r\n                                                vertical: 'top',\r\n                                                horizontal: 'right',\r\n                                            }}\r\n                                            open={openFilter}\r\n                                            onClose={handleCloseFilter}\r\n                                        >\r\n                                            {filters.map((elem, idx)=><MenuItem key={'filter'+idx} style={{background: filter===elem.value?'rgba(51, 143, 255, 0.29)': '#fff'}}  onClick={()=>{setFilter(elem.value);handleCloseFilter();}}>{elem.name}</MenuItem>)}\r\n                                        </Menu>\r\n                                    ]\r\n                                    :null\r\n                                }\r\n                                {sorts&&sorts.length>0?\r\n                                    [\r\n                                        <MenuItem onClick={handleMenuSort}>\r\n                                            <div style={{display: 'flex', color: '#606060'}}>\r\n                                                <Sort/>&nbsp;Сортировка\r\n                                            </div>\r\n                                        </MenuItem>,\r\n                                        <Menu\r\n                                            key='sort'\r\n                                            id='menu-appbar'\r\n                                            anchorEl={anchorElSort}\r\n                                            anchorOrigin={{\r\n                                                vertical: 'top',\r\n                                                horizontal: 'left',\r\n                                            }}\r\n                                            transformOrigin={{\r\n                                                vertical: 'top',\r\n                                                horizontal: 'left',\r\n                                            }}\r\n                                            open={openSort}\r\n                                            onClose={handleCloseSort}\r\n                                        >\r\n                                            {sorts.map((elem, idx)=><MenuItem key={'sort'+idx} onClick={()=>{sort===`-${elem.field}`?setSort(elem.field):setSort(`-${elem.field}`);/*handleCloseSort();handleCloseMobileMenu()*/}}>{sort===`-${elem.field}`?<ArrowDownward />:sort===elem.field?<ArrowUpward />:<div style={{width: '24px'}}/>}{elem.name}</MenuItem>)}\r\n                                        </Menu>\r\n                                    ]\r\n                                    :null\r\n                                }\r\n                            </Menu>\r\n                                    <Tooltip title='Профиль'>\r\n                                        <IconButton\r\n                                            aria-owns='menu-appbar'\r\n                                            aria-haspopup='true'\r\n                                            color='inherit'\r\n                                            onClick={handleMenuProfile}\r\n                                        >\r\n                                            <Badge badgeContent={countBasket} color='secondary'>\r\n                                                <PermIdentity/>\r\n                                            </Badge>\r\n                                        </IconButton>\r\n                                    </Tooltip>\r\n                                    <Menu\r\n                                        id='menu-appbar'\r\n                                        anchorEl={anchorElProfile}\r\n                                        anchorOrigin={{\r\n                                            vertical: 'top',\r\n                                            horizontal: 'right',\r\n                                        }}\r\n                                        transformOrigin={{\r\n                                            vertical: 'top',\r\n                                            horizontal: 'right',\r\n                                        }}\r\n                                        open={openProfile}\r\n                                        onClose={handleCloseProfile}\r\n                                    >\r\n                                        {\r\n                                            !authenticated||profile.role==='client'?\r\n                                                [\r\n                                                <MenuItem>\r\n                                                    <Badge badgeContent={countBasket} color='secondary'>\r\n                                                        <Link href='/basket'>\r\n                                                            <a style={{display: 'flex', color: '#606060'}}>\r\n                                                                <LocalGroceryStore/>\r\n                                                                &nbsp;Корзина&nbsp;&nbsp;\r\n                                                            </a>\r\n                                                        </Link>\r\n                                                    </Badge>\r\n                                                </MenuItem>,\r\n                                                <MenuItem>\r\n                                                    <Link href='/favorite'>\r\n                                                        <a style={{display: 'flex', color: '#606060'}}>\r\n                                                            <Star/>&nbsp;Избранное\r\n                                                        </a>\r\n                                                    </Link>\r\n                                                </MenuItem>\r\n                                                ]\r\n                                                :\r\n                                                null\r\n                                        }\r\n                                        {\r\n                                            authenticated&&profile.role!=='admin'?\r\n                                                <MenuItem>\r\n                                                    <Link href={`/${profile.role==='client'?'client':'employment'}/[id]`} as={`/${profile.role==='client'?'client':'employment'}/${profile._id}`}>\r\n                                                        <a style={{display: 'flex', color: '#606060'}}>\r\n                                                            <AssignmentInd/>&nbsp;Профиль\r\n                                                        </a>\r\n                                                    </Link>\r\n                                                </MenuItem>\r\n                                                :\r\n                                                null\r\n                                        }\r\n                                        {\r\n                                            authenticated?\r\n                                                <MenuItem onClick={()=>{\r\n                                                    handleCloseProfile()\r\n                                                    const action = async() => {\r\n                                                        logout(true)\r\n                                                    }\r\n                                                    setMiniDialog('Вы уверенны?', <Confirmation action={action}/>)\r\n                                                    showMiniDialog(true)\r\n                                                }}>\r\n                                                    <div style={{display: 'flex', color: '#606060'}}>\r\n                                                        <ExitToApp/>&nbsp;Выйти\r\n                                                    </div>\r\n                                                </MenuItem>\r\n                                            :\r\n                                                <MenuItem onClick={()=>{\r\n                                                    handleCloseProfile()\r\n                                                    setMiniDialog('Вход', <Sign isMobileApp={isMobileApp}/>)\r\n                                                    showMiniDialog(true)\r\n                                                }}>\r\n                                                    <div style={{display: 'flex', color: '#606060'}}>\r\n                                                        <ExitToApp/>&nbsp;Войти\r\n                                                    </div>\r\n                                                </MenuItem>\r\n                                        }\r\n                                    </Menu>\r\n\r\n                            </>\r\n                        :\r\n                        openSearch?\r\n                            <Paper className={classes.searchD}>\r\n                                    <Input className={classes.searchField}\r\n                                        id='adornment-password'\r\n                                        type={'login'}\r\n                                        value={search}\r\n                                        onChange={handleSearch}\r\n                                        endAdornment={\r\n                                            <InputAdornment position='end'>\r\n                                                <IconButton aria-label='Search' onClick={()=>{setSearch('');setOpenSearch(false)}}>\r\n                                                    <Cancel />\r\n                                                </IconButton>\r\n                                            </InputAdornment>\r\n                                        }/>\r\n                            </Paper>\r\n                            :\r\n                            <>\r\n                            {filters&&filters.length>0?\r\n                                <>\r\n                                <Tooltip title='Фильтр'>\r\n                                    <IconButton\r\n                                        aria-owns={openFilter ? 'menu-appbar' : undefined}\r\n                                        aria-haspopup='true'\r\n                                        onClick={handleMenuFilter}\r\n                                        color='inherit'\r\n                                    >\r\n                                        <FilterList/>\r\n                                    </IconButton>\r\n                                </Tooltip>\r\n                                <Menu\r\n                                    id='menu-appbar'\r\n                                    key='filter'\r\n                                    anchorEl={anchorElFilter}\r\n                                    anchorOrigin={{\r\n                                        vertical: 'top',\r\n                                        horizontal: 'right',\r\n                                    }}\r\n                                    transformOrigin={{\r\n                                        vertical: 'top',\r\n                                        horizontal: 'right',\r\n                                    }}\r\n                                    open={openFilter}\r\n                                    onClose={handleCloseFilter}\r\n                                >\r\n                                    {filters.map((elem, idx)=><MenuItem key={'filter'+idx} style={{background: filter===elem.value?'rgba(51, 143, 255, 0.29)': '#fff'}} onClick={()=>{setFilter(elem.value);handleCloseFilter();}}>{elem.name}</MenuItem>)}\r\n                                </Menu>\r\n                                &nbsp;\r\n                                </>\r\n                                :null\r\n                            }\r\n                            {sorts&&sorts.length>0?\r\n                                <>\r\n                                <Tooltip title='Сортировка'>\r\n                                    <IconButton\r\n                                        aria-owns={openSort ? 'menu-appbar' : undefined}\r\n                                        aria-haspopup='true'\r\n                                        onClick={handleMenuSort}\r\n                                        color='inherit'\r\n                                    >\r\n                                        <Sort />\r\n                                    </IconButton>\r\n                                </Tooltip>\r\n                                <Menu\r\n                                    id='menu-appbar'\r\n                                    anchorEl={anchorElSort}\r\n                                    anchorOrigin={{\r\n                                        vertical: 'top',\r\n                                        horizontal: 'right',\r\n                                    }}\r\n                                    transformOrigin={{\r\n                                        vertical: 'top',\r\n                                        horizontal: 'right',\r\n                                    }}\r\n                                    open={openSort}\r\n                                    onClose={handleCloseSort}\r\n                                    key='sort'\r\n                                >\r\n                                    {sorts.map((elem, idx)=><MenuItem key={'sort'+idx} onClick={()=>{sort===`-${elem.field}`?setSort(elem.field):setSort(`-${elem.field}`);handleCloseSort();}}>{sort===`-${elem.field}`?<ArrowDownward />:sort===elem.field?<ArrowUpward />:<div style={{width: '24px'}}/>}{elem.name}</MenuItem>)}\r\n                                </Menu>\r\n                                &nbsp;\r\n                                </>\r\n                                :null\r\n                            }\r\n                            <Tooltip title='Поиск'>\r\n                                <IconButton\r\n                                    aria-owns={openSearch ? 'menu-appbar' : undefined}\r\n                                    aria-haspopup='true'\r\n                                    onClick={()=>{setOpenSearch(true)}}\r\n                                    color='inherit'\r\n                                >\r\n                                    <Search />\r\n                                </IconButton>\r\n                            </Tooltip>\r\n                                       <Tooltip title='Профиль'>\r\n                                            <IconButton\r\n                                                aria-owns='menu-appbar'\r\n                                                aria-haspopup='true'\r\n                                                color='inherit'\r\n                                                onClick={handleMenuProfile}\r\n                                            >\r\n                                                <Badge badgeContent={countBasket} color='secondary'>\r\n                                                    <PermIdentity/>\r\n                                                </Badge>\r\n                                            </IconButton>\r\n                                        </Tooltip>\r\n                                    <Menu\r\n                                        id='menu-appbar'\r\n                                        anchorEl={anchorElProfile}\r\n                                        anchorOrigin={{\r\n                                            vertical: 'top',\r\n                                            horizontal: 'right',\r\n                                        }}\r\n                                        transformOrigin={{\r\n                                            vertical: 'top',\r\n                                            horizontal: 'right',\r\n                                        }}\r\n                                        open={openProfile}\r\n                                        onClose={handleCloseProfile}\r\n                                    >\r\n                                        {\r\n                                            !authenticated||profile.role==='client'?\r\n                                                [\r\n                                                    <MenuItem>\r\n                                                        <Badge badgeContent={countBasket} color='secondary'>\r\n                                                        <Link href='/basket'>\r\n                                                            <a style={{display: 'flex', color: '#606060'}}>\r\n                                                                  <LocalGroceryStore/>\r\n                                                                &nbsp;Корзина&nbsp;&nbsp;\r\n                                                            </a>\r\n                                                        </Link>\r\n                                                </Badge>\r\n                                                    </MenuItem>,\r\n                                                <MenuItem>\r\n                                                    <Link href='/favorite'>\r\n                                                        <a style={{display: 'flex', color: '#606060'}}>\r\n                                                            <Star/>&nbsp;Избранное\r\n                                                        </a>\r\n                                                    </Link>\r\n                                                </MenuItem>\r\n                                                ]\r\n                                                :\r\n                                                null\r\n                                        }\r\n                                        {\r\n                                            authenticated&&profile.role!=='admin'?\r\n                                                <MenuItem>\r\n                                                    <Link href={`/${profile.role==='client'?'client':'employment'}/[id]`} as={`/${profile.role==='client'?'client':'employment'}/${profile._id}`}>\r\n                                                        <a style={{display: 'flex', color: '#606060'}}>\r\n                                                            <AssignmentInd/>&nbsp;Профиль\r\n                                                        </a>\r\n                                                    </Link>\r\n                                                </MenuItem>\r\n                                                :\r\n                                                null\r\n                                        }\r\n                                        {\r\n                                            authenticated?\r\n                                                <MenuItem onClick={()=>{\r\n                                                    handleCloseProfile()\r\n                                                    const action = async() => {\r\n                                                        logout(true)\r\n                                                    }\r\n                                                    setMiniDialog('Вы уверенны?', <Confirmation action={action}/>)\r\n                                                    showMiniDialog(true)\r\n                                                }}>\r\n                                                    <div style={{display: 'flex', color: '#606060'}}>\r\n                                                        <ExitToApp/>&nbsp;Выйти\r\n                                                    </div>\r\n                                                </MenuItem>\r\n                                                :\r\n                                                <MenuItem onClick={()=>{\r\n                                                    handleCloseProfile()\r\n                                                    setMiniDialog('Вход', <Sign isMobileApp={isMobileApp}/>)\r\n                                                    showMiniDialog(true)\r\n                                                }}>\r\n                                                    <div style={{display: 'flex', color: '#606060'}}>\r\n                                                        <ExitToApp/>&nbsp;Войти\r\n                                                    </div>\r\n                                                </MenuItem>\r\n                                        }\r\n                                    </Menu>\r\n\r\n                            </>\r\n                    }\r\n                </Toolbar>\r\n            </AppBar>\r\n        </div>\r\n    )\r\n})\r\n\r\nfunction mapStateToProps (state) {\r\n    return {\r\n        app: state.app,\r\n        user: state.user,\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        appActions: bindActionCreators(appActions, dispatch),\r\n        userActions: bindActionCreators(userActions, dispatch),\r\n        mini_dialogActions: bindActionCreators(mini_dialogActions, dispatch),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MyAppBar);\r\n"]},"metadata":{},"sourceType":"module"}
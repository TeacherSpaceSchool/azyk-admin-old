{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\projects\\\\azyk\\\\azyk-admin\\\\pages\\\\_app.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport App from 'next/app';\nimport { ThemeProvider } from '@material-ui/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport theme from '../src/theme';\nimport withRedux from 'next-redux-wrapper';\nimport configureStore from '../redux/configureStore';\nimport { Provider } from 'react-redux';\nimport { SingletonApolloClient } from '../src/singleton/client';\nimport { SingletonStore } from '../src/singleton/store';\nimport { getProfile } from '../redux/actions/user';\nimport { checkMobile, checkAuth } from '../src/lib';\nexport default withRedux(configureStore, {\n  debug: true\n})(class MyApp extends App {\n  static componentDidMount() {\n    // Remove the server-side injected CSS.\n    const jssStyles = document.querySelector('#jss-server-side');\n\n    if (jssStyles) {\n      jssStyles.parentNode.removeChild(jssStyles);\n    }\n  }\n\n  static async getInitialProps({\n    Component,\n    ctx\n  }) {\n    new SingletonApolloClient(ctx.req);\n\n    if (ctx.req) {\n      ctx.store.getState().app.isMobileApp = checkMobile(ctx.req.headers['user-agent']);\n      ctx.store.getState().user.authenticated = checkAuth(ctx.req.headers.cookie);\n      console.log((await getProfile()));\n      if (ctx.store.getState().user.authenticated) ctx.store.getState().user.profile = await getProfile();\n    }\n\n    ctx.store.getState().app.search = '';\n    ctx.store.getState().app.sort = '-updatedAt';\n    ctx.store.getState().app.filter = '';\n    return {\n      pageProps: _objectSpread({}, Component.getInitialProps ? await Component.getInitialProps(ctx) : {})\n    };\n  }\n\n  render() {\n    const {\n      Component,\n      pageProps,\n      store\n    } = this.props;\n    new SingletonStore(store);\n    return __jsx(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, __jsx(ThemeProvider, {\n      theme: theme,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, __jsx(CssBaseline, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), __jsx(Provider, {\n      store: store,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, __jsx(Component, _extends({}, pageProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    })))));\n  }\n\n});","map":{"version":3,"sources":["C:\\projects\\azyk\\azyk-admin\\pages\\_app.js"],"names":["React","App","ThemeProvider","CssBaseline","theme","withRedux","configureStore","Provider","SingletonApolloClient","SingletonStore","getProfile","checkMobile","checkAuth","debug","MyApp","componentDidMount","jssStyles","document","querySelector","parentNode","removeChild","getInitialProps","Component","ctx","req","store","getState","app","isMobileApp","headers","user","authenticated","cookie","console","log","profile","search","sort","filter","pageProps","render","props"],"mappings":"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","sourcesContent":["import React from 'react';\nimport App  from 'next/app';\nimport { ThemeProvider } from '@material-ui/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport theme from '../src/theme';\nimport withRedux from 'next-redux-wrapper';\nimport configureStore from '../redux/configureStore'\nimport { Provider } from 'react-redux';\nimport { SingletonApolloClient } from '../src/singleton/client'\nimport { SingletonStore } from '../src/singleton/store'\nimport { getProfile } from '../redux/actions/user'\nimport { checkMobile, checkAuth } from '../src/lib'\n\nexport default withRedux(configureStore, { debug: true })(\n    class MyApp extends App {\n        static componentDidMount() {\n            // Remove the server-side injected CSS.\n            const jssStyles = document.querySelector('#jss-server-side');\n            if (jssStyles) {\n                jssStyles.parentNode.removeChild(jssStyles);\n            }\n        }\n        static async getInitialProps({ Component, ctx }) {\n            new SingletonApolloClient(ctx.req)\n            if(ctx.req){\n                ctx.store.getState().app.isMobileApp = checkMobile(ctx.req.headers['user-agent'])\n                ctx.store.getState().user.authenticated = checkAuth(ctx.req.headers.cookie)\n                console.log(await getProfile())\n                if(ctx.store.getState().user.authenticated)\n                    ctx.store.getState().user.profile = await getProfile()\n            }\n            ctx.store.getState().app.search = ''\n            ctx.store.getState().app.sort = '-updatedAt'\n            ctx.store.getState().app.filter = ''\n            return {\n                pageProps: {\n                    ...(Component.getInitialProps\n                        ? await Component.getInitialProps(ctx)\n                        : {}),\n                }\n            };\n        }\n\n        render() {\n            const { Component, pageProps, store } = this.props;\n            new SingletonStore(store)\n            return (\n                <React.Fragment>\n                    <ThemeProvider theme={theme}>\n                        {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\n                        <CssBaseline />\n                        <Provider store={store}>\n                                <Component {...pageProps} />\n                        </Provider>\n                    </ThemeProvider>\n                </React.Fragment>\n            );\n        }\n    }\n\n)\n"]},"metadata":{},"sourceType":"module"}
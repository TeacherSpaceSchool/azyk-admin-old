{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{\"+pcz\":function(e,t,a){\"use strict\";var n=a(\"TqRt\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(a(\"q1tI\")),o=(0,n(a(\"8/g6\")).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement(\"path\",{fill:\"none\",d:\"M0 0h24v24H0zm18.31 6l-2.76 5z\"}),r.default.createElement(\"path\",{d:\"M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z\"})),\"AddShoppingCart\");t.default=o},IvQJ:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/favorite\",function(){var e=a(\"fGTc\");return{page:e.default||e}}])},XZkx:function(e,t,a){\"use strict\";var n=a(\"dfwq\"),r=a(\"ln6h\"),o=a.n(r),i=a(\"O40h\"),c=a(\"9Jkg\"),s=a.n(c),l=a(\"q1tI\"),u=a.n(l),f=a(\"30+C\"),p=a(\"oa/T\"),d=a(\"fPtA\"),m=a(\"/MKj\"),v=a(\"ANjH\"),h=a(\"pngM\"),g=a(\"//vS\"),b=a(\"+pcz\"),w=a.n(b),O=a(\"aUVD\"),j=a.n(O),k=a(\"YFqc\"),S=a.n(k),x=a(\"XHc+\"),y=a(\"GXDu\"),_=a(\"Z3vd\"),N=a(\"y4xb\"),z=u.a.createElement,A=u.a.memo(function(e){var t=Object(d.a)(),a=e.element,r=e.setList,c=e.subCategory,m=e.getList,v=e.setFavorites,h=e.user,g=h.profile,b=h.authenticated,O=Object(l.useState)(void 0!==a?a.status:\"\"),k=O[0],A=O[1],C=Object(l.useState)(void 0!==a&&void 0!==a.favorite?a.favorite:[]),J=C[0],H=C[1],E=e.mini_dialogActions,F=E.setMiniDialog,L=E.showMiniDialog,P=e.snackbarActions.showSnackBar,I=Object(l.useState)(!1),T=I[0],B=I[1];return Object(l.useEffect)(function(){if(b)B(a.basket.includes(g._id));else{if(void 0==localStorage.favorites)localStorage.favorites=s()([]);else for(var e=JSON.parse(localStorage.favorites),t=0;t<e.length;t++)e[t]._id==a._id&&H(!0);if(void 0==localStorage.basket)localStorage.basket=s()([]);else for(var n=JSON.parse(localStorage.basket),r=0;r<n.length;r++)n[r].item._id==a._id&&B(!0)}},[]),z(f.a,{className:t.card},z(p.a,{className:t.column},z(\"div\",{className:t.chipList},a.latest?z(\"div\",{className:t.chip,style:{color:\"white\",background:\"green\"}},\"\\u041d\\u043e\\u0432\\u0438\\u043d\\u043a\\u0430\"):null,a.hit?z(\"div\",{className:t.chip,style:{color:\"black\",background:\"yellow\"}},\"\\u0425\\u0438\\u0442\"):null),z(S.a,{href:\"/item/[id]\",as:\"/item/\".concat(void 0!==a?a._id:\"new\")},z(\"img\",{className:t.media,src:a.image,alt:a.info})),z(S.a,{href:\"/item/[id]\",as:\"/item/\".concat(void 0!==a?a._id:\"new\")},z(\"div\",{className:t.name},a.name)),z(S.a,{href:\"/item/[id]\",as:\"/item/\".concat(void 0!==a?a._id:\"new\")},z(\"div\",{className:t.row},0===a.stock||void 0===a.stock?z(\"div\",{className:t.price},\"\".concat(a.price,\" \\u0441\\u043e\\u043c\")):z(u.a.Fragment,null,z(\"div\",{className:t.crossedPrice},\"\".concat(a.price)),z(\"div\",{className:t.stockPrice},\"\".concat(a.stock,\" \\u0441\\u043e\\u043c\"))))),[\"admin\",\"\\u043e\\u0440\\u0433\\u0430\\u043d\\u0438\\u0437\\u0430\\u0446\\u0438\\u044f\",\"\\u043c\\u0435\\u043d\\u0435\\u0434\\u0436\\u0435\\u0440\"].includes(g.role)?z(u.a.Fragment,null,z(_.a,{onClick:Object(i.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){var e=Object(i.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.i)([a._id]);case 2:A(\"active\"===k?\"deactive\":\"active\");case 3:case\"end\":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),F(\"\\u0412\\u044b \\u0443\\u0432\\u0435\\u0440\\u0435\\u043d\\u043d\\u044b?\",z(N.a,{action:t})),L(!0);case 3:case\"end\":return e.stop()}},e)})),size:\"small\",color:\"primary\"},\"active\"===k?\"\\u041e\\u0442\\u043a\\u043b\\u044e\\u0447\\u0438\\u0442\\u044c\":\"\\u0412\\u043a\\u043b\\u044e\\u0447\\u0438\\u0442\\u044c\"),\"admin\"===g.role?z(_.a,{onClick:Object(i.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){var e=Object(i.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.c)([a._id],c);case 2:t=e.sent.items,r(t);case 4:case\"end\":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),F(\"\\u0412\\u044b \\u0443\\u0432\\u0435\\u0440\\u0435\\u043d\\u043d\\u044b?\",z(N.a,{action:t})),L(!0);case 3:case\"end\":return e.stop()}},e)})),size:\"small\",color:\"primary\"},\"\\u0423\\u0434\\u0430\\u043b\\u0438\\u0442\\u044c\"):null):\"client\"!==g.role&&b?null:z(w.a,{style:{color:T?\"#ffb300\":\"#e1e1e1\"},className:t.button,onClick:function(){if(\"client\"===g.role)Object(y.a)({item:a._id,count:1});else if(!b){for(var e=JSON.parse(localStorage.basket),t=-1,n=0;n<e.length;n++)e[n].item._id==a._id&&(t=n);-1===t&&e.push({item:a,count:1}),localStorage.basket=s()(e)}P(\"\\u0422\\u043e\\u0432\\u0430\\u0440 \\u0434\\u043e\\u0431\\u0430\\u0432\\u043b\\u0435\\u043d \\u0432 \\u043a\\u043e\\u0440\\u0437\\u0438\\u043d\\u0443\"),B(!0),Object(y.d)()}}),\"client\"!==g.role&&b?null:z(j.a,{className:t.buttonToggle,onClick:Object(i.a)(o.a.mark(function e(){var t,r,c,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(\"client\"!==g.role){e.next=7;break}return e.next=3,Object(x.d)([a._id]);case 3:-1===(t=J.indexOf(g._id))&&(J.push(g._id),H(Object(n.a)(J)),void 0!==m&&m()),e.next=8;break;case 7:if(!b){for(r=JSON.parse(localStorage.favorites),t=-1,c=0;c<r.length;c++)r[c]._id==a._id&&(t=c);-1===t&&(r.push(a),H(!0),localStorage.favorites=s()(r),v&&v(r))}case 8:-1!==t&&(l=function(){var e=Object(i.a)(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:\"client\"===g.role?(J.splice(t,1),H(Object(n.a)(J)),void 0!==m&&m()):b||((a=JSON.parse(localStorage.favorites)).splice(t,1),H(!1),localStorage.favorites=s()(a),v&&v(a));case 1:case\"end\":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),F(\"\\u0412\\u044b \\u0443\\u0432\\u0435\\u0440\\u0435\\u043d\\u043d\\u044b?\",z(N.a,{action:l})),L(!0));case 9:case\"end\":return e.stop()}},e)})),style:{color:!b&&!0===J||\"client\"==g.role&&J.includes(g._id)?\"#ffb300\":\"#e1e1e1\"}})))});t.a=Object(m.b)(function(e){return{user:e.user,app:e.app}},function(e){return{mini_dialogActions:Object(v.b)(h,e),snackbarActions:Object(v.b)(g,e)}})(A)},dfwq:function(e,t,a){\"use strict\";var n=a(\"p0XB\"),r=a.n(n);var o=a(\"d04V\"),i=a.n(o),c=a(\"yLu3\"),s=a.n(c);function l(e){return function(e){if(r()(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(s()(Object(e))||\"[object Arguments]\"===Object.prototype.toString.call(e))return i()(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}a.d(t,\"a\",function(){return l})},fGTc:function(e,t,a){\"use strict\";a.r(t);var n=a(\"9Jkg\"),r=a.n(n),o=a(\"ln6h\"),i=a.n(o),c=a(\"O40h\"),s=a(\"m/Pd\"),l=a.n(s),u=a(\"q1tI\"),f=a.n(u),p=a(\"aSjJ\"),d=a(\"/MKj\"),m=a(\"R/WZ\"),v=Object(m.a)({page:{paddingTop:20,display:\"flex\",alignItems:\"center\",justifyContent:\"center\",flexDirection:\"row\",flexWrap:\"wrap\"}}),h=a(\"XZkx\"),g=a(\"XHc+\"),b=a(\"nOHt\"),w=a.n(b),O=a(\"9a0h\"),j=a(\"HMs9\"),k=a.n(j),S=a(\"vHpU\"),x=f.a.createElement,y=f.a.memo(function(e){var t=e.user.authenticated,a=v(),n=e.data,o=Object(u.useState)(n.favorites),s=o[0],f=o[1],d=e.app.search;Object(u.useEffect)(function(){Object(c.a)(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t||!localStorage.favorites){e.next=5;break}a=JSON.parse(localStorage.favorites),f(a.filter(function(e){return e.name.includes(d)})),e.next=10;break;case 5:return e.t0=f,e.next=8,Object(g.e)({search:d});case 8:e.t1=e.sent.favorites,(0,e.t0)(e.t1);case 10:case\"end\":return e.stop()}},e)}))()},[d]),Object(u.useEffect)(function(){Object(c.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t||(localStorage.favorites||(localStorage.favorites=r()([])),f(JSON.parse(localStorage.favorites)));case 1:case\"end\":return e.stop()}},e)}))()},[]);var m=function(){var e=Object(c.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=f,e.next=3,Object(g.e)({search:d});case 3:e.t1=e.sent.favorites,(0,e.t0)(e.t1);case 5:case\"end\":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return x(p.a,{getList:m,pageName:\"\\u0418\\u0437\\u0431\\u0440\\u0430\\u043d\\u043d\\u043e\\u0435\"},x(l.a,null,x(\"title\",null,\"\\u0418\\u0437\\u0431\\u0440\\u0430\\u043d\\u043d\\u043e\\u0435\"),x(\"meta\",{name:\"description\",content:\"\\u0410\\u0437\\u044b\\u043a \\u2013 \\u044d\\u0442\\u043e \\u043e\\u043d\\u043b\\u0430\\u0439\\u043d \\u043f\\u043b\\u0430\\u0442\\u0444\\u043e\\u0440\\u043c\\u0430 \\u0434\\u043b\\u044f \\u0437\\u0430\\u043a\\u0430\\u0437\\u0430 \\u0442\\u043e\\u0432\\u0430\\u0440\\u043e\\u0432 \\u043e\\u043f\\u0442\\u043e\\u043c, \\u0440\\u0430\\u0437\\u0440\\u0430\\u0431\\u043e\\u0442\\u0430\\u043d\\u043d\\u0430\\u044f \\u0441\\u043f\\u0435\\u0446\\u0438\\u0430\\u043b\\u044c\\u043d\\u043e \\u0434\\u043b\\u044f \\u043c\\u0430\\u043b\\u043e\\u0433\\u043e \\u0438 \\u0441\\u0440\\u0435\\u0434\\u043d\\u0435\\u0433\\u043e \\u0431\\u0438\\u0437\\u043d\\u0435\\u0441\\u0430.  \\u041e\\u043d\\u0430 \\u043e\\u0431\\u044a\\u0435\\u0434\\u0438\\u043d\\u044f\\u0435\\u0442 \\u043f\\u0440\\u043e\\u0438\\u0437\\u0432\\u043e\\u0434\\u0438\\u0442\\u0435\\u043b\\u0435\\u0439 \\u0438 \\u0442\\u043e\\u0440\\u0433\\u043e\\u0432\\u044b\\u0435 \\u0442\\u043e\\u0447\\u043a\\u0438 \\u043d\\u0430\\u043f\\u0440\\u044f\\u043c\\u0443\\u044e, \\u0441\\u043e\\u043a\\u0440\\u0430\\u0449\\u0430\\u044f \\u0440\\u0430\\u0441\\u0445\\u043e\\u0434\\u044b \\u0438 \\u043f\\u043e\\u0432\\u044b\\u0448\\u0430\\u044f \\u043f\\u0440\\u043e\\u0434\\u0430\\u0436\\u0438. \\u0410\\u0437\\u044b\\u043a \\u043f\\u0440\\u0435\\u0434\\u043e\\u0441\\u0442\\u0430\\u0432\\u043b\\u044f\\u0435\\u0442 \\u0441\\u0432\\u043e\\u0438\\u043c \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044f\\u043c \\u043c\\u043e\\u0449\\u043d\\u044b\\u0435 \\u0442\\u0435\\u0445\\u043d\\u043e\\u043b\\u043e\\u0433\\u0438\\u0438 \\u0434\\u043b\\u044f \\u043c\\u0430\\u0441\\u0448\\u0442\\u0430\\u0431\\u0438\\u0440\\u043e\\u0432\\u0430\\u043d\\u0438\\u044f \\u0438 \\u0440\\u0430\\u0437\\u0432\\u0438\\u0442\\u0438\\u044f \\u0441\\u0432\\u043e\\u0435\\u0433\\u043e \\u0431\\u0438\\u0437\\u043d\\u0435\\u0441\\u0430.\"}),x(\"meta\",{property:\"og:title\",content:\"\\u0418\\u0437\\u0431\\u0440\\u0430\\u043d\\u043d\\u043e\\u0435\"}),x(\"meta\",{property:\"og:description\",content:\"\\u0410\\u0437\\u044b\\u043a \\u2013 \\u044d\\u0442\\u043e \\u043e\\u043d\\u043b\\u0430\\u0439\\u043d \\u043f\\u043b\\u0430\\u0442\\u0444\\u043e\\u0440\\u043c\\u0430 \\u0434\\u043b\\u044f \\u0437\\u0430\\u043a\\u0430\\u0437\\u0430 \\u0442\\u043e\\u0432\\u0430\\u0440\\u043e\\u0432 \\u043e\\u043f\\u0442\\u043e\\u043c, \\u0440\\u0430\\u0437\\u0440\\u0430\\u0431\\u043e\\u0442\\u0430\\u043d\\u043d\\u0430\\u044f \\u0441\\u043f\\u0435\\u0446\\u0438\\u0430\\u043b\\u044c\\u043d\\u043e \\u0434\\u043b\\u044f \\u043c\\u0430\\u043b\\u043e\\u0433\\u043e \\u0438 \\u0441\\u0440\\u0435\\u0434\\u043d\\u0435\\u0433\\u043e \\u0431\\u0438\\u0437\\u043d\\u0435\\u0441\\u0430.  \\u041e\\u043d\\u0430 \\u043e\\u0431\\u044a\\u0435\\u0434\\u0438\\u043d\\u044f\\u0435\\u0442 \\u043f\\u0440\\u043e\\u0438\\u0437\\u0432\\u043e\\u0434\\u0438\\u0442\\u0435\\u043b\\u0435\\u0439 \\u0438 \\u0442\\u043e\\u0440\\u0433\\u043e\\u0432\\u044b\\u0435 \\u0442\\u043e\\u0447\\u043a\\u0438 \\u043d\\u0430\\u043f\\u0440\\u044f\\u043c\\u0443\\u044e, \\u0441\\u043e\\u043a\\u0440\\u0430\\u0449\\u0430\\u044f \\u0440\\u0430\\u0441\\u0445\\u043e\\u0434\\u044b \\u0438 \\u043f\\u043e\\u0432\\u044b\\u0448\\u0430\\u044f \\u043f\\u0440\\u043e\\u0434\\u0430\\u0436\\u0438. \\u0410\\u0437\\u044b\\u043a \\u043f\\u0440\\u0435\\u0434\\u043e\\u0441\\u0442\\u0430\\u0432\\u043b\\u044f\\u0435\\u0442 \\u0441\\u0432\\u043e\\u0438\\u043c \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044f\\u043c \\u043c\\u043e\\u0449\\u043d\\u044b\\u0435 \\u0442\\u0435\\u0445\\u043d\\u043e\\u043b\\u043e\\u0433\\u0438\\u0438 \\u0434\\u043b\\u044f \\u043c\\u0430\\u0441\\u0448\\u0442\\u0430\\u0431\\u0438\\u0440\\u043e\\u0432\\u0430\\u043d\\u0438\\u044f \\u0438 \\u0440\\u0430\\u0437\\u0432\\u0438\\u0442\\u0438\\u044f \\u0441\\u0432\\u043e\\u0435\\u0433\\u043e \\u0431\\u0438\\u0437\\u043d\\u0435\\u0441\\u0430.\"}),x(\"meta\",{property:\"og:type\",content:\"website\"}),x(\"meta\",{property:\"og:image\",content:\"\".concat(O.b,\"/static/512x512.png\")}),x(\"meta\",{property:\"og:url\",content:\"\".concat(O.b,\"/favorite\")}),x(\"link\",{rel:\"canonical\",href:\"\".concat(O.b,\"/favorite\")})),x(\"div\",{className:a.page},s?s.map(function(e){return x(k.a,{scrollContainer:\".App-body\",key:e._id,height:377,offset:[377,0],debounce:100,placeholder:x(S.a,null)},x(h.a,{setList:f,setFavorites:f,getList:m,key:e._id,element:e}))}):null))});y.getInitialProps=function(){var e=Object(c.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return\"client\"!==t.store.getState().user.profile.role&&t.store.getState().user.authenticated&&(t.res?(t.res.writeHead(302,{Location:\"/\"}),t.res.end()):w.a.push(\"/\")),e.next=3,Object(g.e)({search:\"\"});case 3:return e.t0=e.sent,e.abrupt(\"return\",{data:e.t0});case 5:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();t.default=Object(d.b)(function(e){return{app:e.app,user:e.user}})(y)},fPtA:function(e,t,a){\"use strict\";var n=a(\"R/WZ\");t.a=Object(n.a)({card:{width:280,margin:10,position:\"relative\"},column:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},row:{display:\"flex\",flexDirection:\"row\",justifyContent:\"center\"},media:{height:180,width:180,objectFit:\"contain\",marginBottom:20,cursor:\"pointer\"},name:{fontSize:\"0.95rem\",fontFamily:\"Roboto\",height:35,overflow:\"hidden\",textOverflow:\"ellipsis\",marginBottom:10,wordBreak:\"break-all\",textAlign:\"center\",cursor:\"pointer\"},price:{fontWeight:\"bold\",fontSize:\"1.3rem\",fontFamily:\"Roboto\",height:22,overflow:\"hidden\",textOverflow:\"ellipsis\",marginBottom:10,cursor:\"pointer\"},crossedPrice:{color:\"#C0C0C0\",textDecoration:\"line-through\",fontWeight:\"bold\",fontSize:\"1rem\",fontFamily:\"Roboto\",height:18,width:70,marginRight:3,marginTop:2,overflow:\"hidden\",textOverflow:\"ellipsis\",textAlign:\"right\",marginBottom:10},stockPrice:{marginLeft:3,color:\"#ff0000\",fontWeight:\"bold\",fontSize:\"1.3rem\",fontFamily:\"Roboto\",height:22,width:100,overflow:\"hidden\",textOverflow:\"ellipsis\",textAlign:\"left\",marginBottom:10},button:{height:50,width:50,cursor:\"pointer\"},buttonToggle:{height:30,width:30,position:\"absolute\",top:10,right:10,cursor:\"pointer\"},chipList:{position:\"absolute\",top:5,left:5},chip:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",fontSize:12,fontFamily:\"Roboto\",width:60,height:16,marginBottom:2}})},vHpU:function(e,t,a){\"use strict\";var n=a(\"q1tI\"),r=a.n(n),o=a(\"fPtA\"),i=a(\"SpDg\"),c=r.a.createElement,s=r.a.memo(function(){var e=Object(o.a)();return c(\"div\",{className:e.card,style:{height:377}},c(i.a,{variant:\"rect\",height:\"100%\"}))});t.a=s}},[[\"IvQJ\",1,0]]]);"}